{% extends 'base.html' %}

{% block title %}Create a Post{% endblock %}

{% block content %}

<div class="row justify-content-center">
  <div class="col-sm-10 col-md-8 col-xl-6">
    <h1>Add Post for {{ user.full_name }}</h1>
  </div>
</div>
<div class="row justify-content-center">
  <div class="col-sm-10 col-md-8 col-xl-6 border shadow rounded p-3 mx-3 mx-md-0">

    <!-- form action should be to users/{{user_id}}/posts -->
    <form action="/users/{{user.id}}/posts/new" method="POST">
      <!-- <form method="POST"> -->
      <div class="form-group row">
        <label class="col-sm-2 col-form-label" for="title">Title</label>
        <div class="col-sm-10">
          <input class="form-control" type="text" name="title" id="title" placeholder="Enter a title of post">
        </div>
      </div>

      <div class="form-group row">
        <label class="col-sm-2 col-form-label" for="content">Content</label>
        <div class="col-sm-10">
          <textarea class="form-control" name="content" id="content" cols="80" rows="20"
            placeholder="Enter the post's content"></textarea>
        </div>
      </div>

      <p>Choose tags for your post (optional):</p>
      <div class="form-check">

        {% for tag in tags %}
        <input class=" form-check-input" type="checkbox" id="tag_{{ tag.id }}" name="tags" value="{{ tag.id }}">
        <label class="form-check-label" for="tag_{{ tag.id }}">{{ tag.name }}</label><br />
        {% endfor %}

      </div>

      <div class="form-group row justify-content-end">
        <div class="p-3 mx-3 mx-md-0">
          <a href="/users/{{user.id}}" class="btn btn-outline-primary">Cancel</a>
          <button type="submit" class="btn btn-success">Add</button>
        </div>
      </div>
    </form>
  </div>
</div>
{% endblock %}