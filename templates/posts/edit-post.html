{% extends 'base.html' %}

{% block title %}Edit Post{% endblock %}

{% block content %}

<div class="row justify-content-center">
  <div class="col-sm-10 col-md-8 col-xl-6">
    <h1 class="my-5">Edit Post</h1>
  </div>
</div>
<div class="row justify-content-center">
  <div class="col-sm-10 col-md-8 col-xl-6 border shadow rounded p-3 mx-3 mx-md-0">

    <!-- form action should be to posts/{{ post.id }} -->
    <form action="/posts/{{ post.id }}/edit" method="POST">
      <!-- <form method="POST"> -->
      <div class="form-group row">
        <label class="col-sm-2 col-form-label" for="title">Title</label>
        <div class="col-sm-10">
          <input class="form-control" type="text" name="title" id="title" value={{ post.title }}>
        </div>
      </div>

      <div class="form-group row">
        <label class="col-sm-2 col-form-label" for="content">Content</label>
        <div class="col-sm-10">
          <textarea class="form-control" name="content" id="content" cols="80" rows="20">
            {{ post.content }}
          </textarea>
        </div>
      </div>

      <p>Edit tags for your post (optional):</p>
      <div class="form-check">

        {% for tag in tags %}
        <input class=" form-check-input" type="checkbox" id="tag_{{ tag.id }}" name="tags" value="{{ tag.id }}"
          {% if tag in post.tags %} checked {% endif %}>
        <label class="form-check-label" for="tag_{{ tag.id }}">{{ tag.name }}</label><br />
        {% endfor %}

      </div>

      <div class="form-group row">
        <div class="ml-auto mr-3">
          <a class="btn btn-outline-primary" href="/posts/{{ post.id }}">Cancel</a>
          <button class="btn btn-success" type="submit">Edit</button>
        </div>
      </div>

    </form>
  </div>

</div>
{% endblock %}